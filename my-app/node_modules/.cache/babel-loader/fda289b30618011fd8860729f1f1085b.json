{"ast":null,"code":"/*!\r\n * destroy\r\n * Copyright(c) 2014 Jonathan Ong\r\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\n'use strict';\n/**\r\n * Module dependencies.\r\n * @private\r\n */\n\nvar EventEmitter = require('events').EventEmitter;\n\nvar ReadStream = require('fs').ReadStream;\n\nvar Stream = require('stream');\n\nvar Zlib = require('zlib');\n/**\r\n * Module exports.\r\n * @public\r\n */\n\n\nmodule.exports = destroy;\n/**\r\n * Destroy the given stream, and optionally suppress any future `error` events.\r\n *\r\n * @param {object} stream\r\n * @param {boolean} suppress\r\n * @public\r\n */\n\nfunction destroy(stream, suppress) {\n  if (isFsReadStream(stream)) {\n    destroyReadStream(stream);\n  } else if (isZlibStream(stream)) {\n    destroyZlibStream(stream);\n  } else if (hasDestroy(stream)) {\n    stream.destroy();\n  }\n\n  if (isEventEmitter(stream) && suppress) {\n    stream.removeAllListeners('error');\n    stream.addListener('error', noop);\n  }\n\n  return stream;\n}\n/**\r\n * Destroy a ReadStream.\r\n *\r\n * @param {object} stream\r\n * @private\r\n */\n\n\nfunction destroyReadStream(stream) {\n  stream.destroy();\n\n  if (typeof stream.close === 'function') {\n    // node.js core bug work-around\n    stream.on('open', onOpenClose);\n  }\n}\n/**\r\n * Close a Zlib stream.\r\n *\r\n * Zlib streams below Node.js 4.5.5 have a buggy implementation\r\n * of .close() when zlib encountered an error.\r\n *\r\n * @param {object} stream\r\n * @private\r\n */\n\n\nfunction closeZlibStream(stream) {\n  if (stream._hadError === true) {\n    var prop = stream._binding === null ? '_binding' : '_handle';\n    stream[prop] = {\n      close: function () {\n        this[prop] = null;\n      }\n    };\n  }\n\n  stream.close();\n}\n/**\r\n * Destroy a Zlib stream.\r\n *\r\n * Zlib streams don't have a destroy function in Node.js 6. On top of that\r\n * simply calling destroy on a zlib stream in Node.js 8+ will result in a\r\n * memory leak. So until that is fixed, we need to call both close AND destroy.\r\n *\r\n * PR to fix memory leak: https://github.com/nodejs/node/pull/23734\r\n *\r\n * In Node.js 6+8, it's important that destroy is called before close as the\r\n * stream would otherwise emit the error 'zlib binding closed'.\r\n *\r\n * @param {object} stream\r\n * @private\r\n */\n\n\nfunction destroyZlibStream(stream) {\n  if (typeof stream.destroy === 'function') {\n    // node.js core bug work-around\n    // istanbul ignore if: node.js 0.8\n    if (stream._binding) {\n      // node.js < 0.10.0\n      stream.destroy();\n\n      if (stream._processing) {\n        stream._needDrain = true;\n        stream.once('drain', onDrainClearBinding);\n      } else {\n        stream._binding.clear();\n      }\n    } else if (stream._destroy && stream._destroy !== Stream.Transform.prototype._destroy) {\n      // node.js >= 12, ^11.1.0, ^10.15.1\n      stream.destroy();\n    } else if (stream._destroy && typeof stream.close === 'function') {\n      // node.js 7, 8\n      stream.destroyed = true;\n      stream.close();\n    } else {\n      // fallback\n      // istanbul ignore next\n      stream.destroy();\n    }\n  } else if (typeof stream.close === 'function') {\n    // node.js < 8 fallback\n    closeZlibStream(stream);\n  }\n}\n/**\r\n * Determine if stream has destroy.\r\n * @private\r\n */\n\n\nfunction hasDestroy(stream) {\n  return stream instanceof Stream && typeof stream.destroy === 'function';\n}\n/**\r\n * Determine if val is EventEmitter.\r\n * @private\r\n */\n\n\nfunction isEventEmitter(val) {\n  return val instanceof EventEmitter;\n}\n/**\r\n * Determine if stream is fs.ReadStream stream.\r\n * @private\r\n */\n\n\nfunction isFsReadStream(stream) {\n  return stream instanceof ReadStream;\n}\n/**\r\n * Determine if stream is Zlib stream.\r\n * @private\r\n */\n\n\nfunction isZlibStream(stream) {\n  return stream instanceof Zlib.Gzip || stream instanceof Zlib.Gunzip || stream instanceof Zlib.Deflate || stream instanceof Zlib.DeflateRaw || stream instanceof Zlib.Inflate || stream instanceof Zlib.InflateRaw || stream instanceof Zlib.Unzip;\n}\n/**\r\n * No-op function.\r\n * @private\r\n */\n\n\nfunction noop() {}\n/**\r\n * On drain handler to clear binding.\r\n * @private\r\n */\n// istanbul ignore next: node.js 0.8\n\n\nfunction onDrainClearBinding() {\n  this._binding.clear();\n}\n/**\r\n * On open handler to close stream.\r\n * @private\r\n */\n\n\nfunction onOpenClose() {\n  if (typeof this.fd === 'number') {\n    // actually close down the fd\n    this.close();\n  }\n}","map":{"version":3,"names":["EventEmitter","require","ReadStream","Stream","Zlib","module","exports","destroy","stream","suppress","isFsReadStream","destroyReadStream","isZlibStream","destroyZlibStream","hasDestroy","isEventEmitter","removeAllListeners","addListener","noop","close","on","onOpenClose","closeZlibStream","_hadError","prop","_binding","_processing","_needDrain","once","onDrainClearBinding","clear","_destroy","Transform","prototype","destroyed","val","Gzip","Gunzip","Deflate","DeflateRaw","Inflate","InflateRaw","Unzip","fd"],"sources":["C:/Users/Kamen/ML/AlgoTrader/my-app/node_modules/destroy/index.js"],"sourcesContent":["/*!\r\n * destroy\r\n * Copyright(c) 2014 Jonathan Ong\r\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\r\n * MIT Licensed\r\n */\r\n\r\n'use strict'\r\n\r\n/**\r\n * Module dependencies.\r\n * @private\r\n */\r\n\r\nvar EventEmitter = require('events').EventEmitter\r\nvar ReadStream = require('fs').ReadStream\r\nvar Stream = require('stream')\r\nvar Zlib = require('zlib')\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nmodule.exports = destroy\r\n\r\n/**\r\n * Destroy the given stream, and optionally suppress any future `error` events.\r\n *\r\n * @param {object} stream\r\n * @param {boolean} suppress\r\n * @public\r\n */\r\n\r\nfunction destroy (stream, suppress) {\r\n  if (isFsReadStream(stream)) {\r\n    destroyReadStream(stream)\r\n  } else if (isZlibStream(stream)) {\r\n    destroyZlibStream(stream)\r\n  } else if (hasDestroy(stream)) {\r\n    stream.destroy()\r\n  }\r\n\r\n  if (isEventEmitter(stream) && suppress) {\r\n    stream.removeAllListeners('error')\r\n    stream.addListener('error', noop)\r\n  }\r\n\r\n  return stream\r\n}\r\n\r\n/**\r\n * Destroy a ReadStream.\r\n *\r\n * @param {object} stream\r\n * @private\r\n */\r\n\r\nfunction destroyReadStream (stream) {\r\n  stream.destroy()\r\n\r\n  if (typeof stream.close === 'function') {\r\n    // node.js core bug work-around\r\n    stream.on('open', onOpenClose)\r\n  }\r\n}\r\n\r\n/**\r\n * Close a Zlib stream.\r\n *\r\n * Zlib streams below Node.js 4.5.5 have a buggy implementation\r\n * of .close() when zlib encountered an error.\r\n *\r\n * @param {object} stream\r\n * @private\r\n */\r\n\r\nfunction closeZlibStream (stream) {\r\n  if (stream._hadError === true) {\r\n    var prop = stream._binding === null\r\n      ? '_binding'\r\n      : '_handle'\r\n\r\n    stream[prop] = {\r\n      close: function () { this[prop] = null }\r\n    }\r\n  }\r\n\r\n  stream.close()\r\n}\r\n\r\n/**\r\n * Destroy a Zlib stream.\r\n *\r\n * Zlib streams don't have a destroy function in Node.js 6. On top of that\r\n * simply calling destroy on a zlib stream in Node.js 8+ will result in a\r\n * memory leak. So until that is fixed, we need to call both close AND destroy.\r\n *\r\n * PR to fix memory leak: https://github.com/nodejs/node/pull/23734\r\n *\r\n * In Node.js 6+8, it's important that destroy is called before close as the\r\n * stream would otherwise emit the error 'zlib binding closed'.\r\n *\r\n * @param {object} stream\r\n * @private\r\n */\r\n\r\nfunction destroyZlibStream (stream) {\r\n  if (typeof stream.destroy === 'function') {\r\n    // node.js core bug work-around\r\n    // istanbul ignore if: node.js 0.8\r\n    if (stream._binding) {\r\n      // node.js < 0.10.0\r\n      stream.destroy()\r\n      if (stream._processing) {\r\n        stream._needDrain = true\r\n        stream.once('drain', onDrainClearBinding)\r\n      } else {\r\n        stream._binding.clear()\r\n      }\r\n    } else if (stream._destroy && stream._destroy !== Stream.Transform.prototype._destroy) {\r\n      // node.js >= 12, ^11.1.0, ^10.15.1\r\n      stream.destroy()\r\n    } else if (stream._destroy && typeof stream.close === 'function') {\r\n      // node.js 7, 8\r\n      stream.destroyed = true\r\n      stream.close()\r\n    } else {\r\n      // fallback\r\n      // istanbul ignore next\r\n      stream.destroy()\r\n    }\r\n  } else if (typeof stream.close === 'function') {\r\n    // node.js < 8 fallback\r\n    closeZlibStream(stream)\r\n  }\r\n}\r\n\r\n/**\r\n * Determine if stream has destroy.\r\n * @private\r\n */\r\n\r\nfunction hasDestroy (stream) {\r\n  return stream instanceof Stream &&\r\n    typeof stream.destroy === 'function'\r\n}\r\n\r\n/**\r\n * Determine if val is EventEmitter.\r\n * @private\r\n */\r\n\r\nfunction isEventEmitter (val) {\r\n  return val instanceof EventEmitter\r\n}\r\n\r\n/**\r\n * Determine if stream is fs.ReadStream stream.\r\n * @private\r\n */\r\n\r\nfunction isFsReadStream (stream) {\r\n  return stream instanceof ReadStream\r\n}\r\n\r\n/**\r\n * Determine if stream is Zlib stream.\r\n * @private\r\n */\r\n\r\nfunction isZlibStream (stream) {\r\n  return stream instanceof Zlib.Gzip ||\r\n    stream instanceof Zlib.Gunzip ||\r\n    stream instanceof Zlib.Deflate ||\r\n    stream instanceof Zlib.DeflateRaw ||\r\n    stream instanceof Zlib.Inflate ||\r\n    stream instanceof Zlib.InflateRaw ||\r\n    stream instanceof Zlib.Unzip\r\n}\r\n\r\n/**\r\n * No-op function.\r\n * @private\r\n */\r\n\r\nfunction noop () {}\r\n\r\n/**\r\n * On drain handler to clear binding.\r\n * @private\r\n */\r\n\r\n// istanbul ignore next: node.js 0.8\r\nfunction onDrainClearBinding () {\r\n  this._binding.clear()\r\n}\r\n\r\n/**\r\n * On open handler to close stream.\r\n * @private\r\n */\r\n\r\nfunction onOpenClose () {\r\n  if (typeof this.fd === 'number') {\r\n    // actually close down the fd\r\n    this.close()\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}