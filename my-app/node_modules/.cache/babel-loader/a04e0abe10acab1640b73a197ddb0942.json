{"ast":null,"code":"/*!\r\n * ee-first\r\n * Copyright(c) 2014 Jonathan Ong\r\n * MIT Licensed\r\n */\n'use strict';\n/**\r\n * Module exports.\r\n * @public\r\n */\n\nmodule.exports = first;\n/**\r\n * Get the first event in a set of event emitters and event pairs.\r\n *\r\n * @param {array} stuff\r\n * @param {function} done\r\n * @public\r\n */\n\nfunction first(stuff, done) {\n  if (!Array.isArray(stuff)) throw new TypeError('arg must be an array of [ee, events...] arrays');\n  var cleanups = [];\n\n  for (var i = 0; i < stuff.length; i++) {\n    var arr = stuff[i];\n    if (!Array.isArray(arr) || arr.length < 2) throw new TypeError('each array member must be [ee, events...]');\n    var ee = arr[0];\n\n    for (var j = 1; j < arr.length; j++) {\n      var event = arr[j];\n      var fn = listener(event, callback); // listen to the event\n\n      ee.on(event, fn); // push this listener to the list of cleanups\n\n      cleanups.push({\n        ee: ee,\n        event: event,\n        fn: fn\n      });\n    }\n  }\n\n  function callback() {\n    cleanup();\n    done.apply(null, arguments);\n  }\n\n  function cleanup() {\n    var x;\n\n    for (var i = 0; i < cleanups.length; i++) {\n      x = cleanups[i];\n      x.ee.removeListener(x.event, x.fn);\n    }\n  }\n\n  function thunk(fn) {\n    done = fn;\n  }\n\n  thunk.cancel = cleanup;\n  return thunk;\n}\n/**\r\n * Create the event listener.\r\n * @private\r\n */\n\n\nfunction listener(event, done) {\n  return function onevent(arg1) {\n    var args = new Array(arguments.length);\n    var ee = this;\n    var err = event === 'error' ? arg1 : null; // copy args to prevent arguments escaping scope\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    done(err, ee, event, args);\n  };\n}","map":{"version":3,"names":["module","exports","first","stuff","done","Array","isArray","TypeError","cleanups","i","length","arr","ee","j","event","fn","listener","callback","on","push","cleanup","apply","arguments","x","removeListener","thunk","cancel","onevent","arg1","args","err"],"sources":["C:/Users/Kamen/ML/AlgoTrader/my-app/node_modules/ee-first/index.js"],"sourcesContent":["/*!\r\n * ee-first\r\n * Copyright(c) 2014 Jonathan Ong\r\n * MIT Licensed\r\n */\r\n\r\n'use strict'\r\n\r\n/**\r\n * Module exports.\r\n * @public\r\n */\r\n\r\nmodule.exports = first\r\n\r\n/**\r\n * Get the first event in a set of event emitters and event pairs.\r\n *\r\n * @param {array} stuff\r\n * @param {function} done\r\n * @public\r\n */\r\n\r\nfunction first(stuff, done) {\r\n  if (!Array.isArray(stuff))\r\n    throw new TypeError('arg must be an array of [ee, events...] arrays')\r\n\r\n  var cleanups = []\r\n\r\n  for (var i = 0; i < stuff.length; i++) {\r\n    var arr = stuff[i]\r\n\r\n    if (!Array.isArray(arr) || arr.length < 2)\r\n      throw new TypeError('each array member must be [ee, events...]')\r\n\r\n    var ee = arr[0]\r\n\r\n    for (var j = 1; j < arr.length; j++) {\r\n      var event = arr[j]\r\n      var fn = listener(event, callback)\r\n\r\n      // listen to the event\r\n      ee.on(event, fn)\r\n      // push this listener to the list of cleanups\r\n      cleanups.push({\r\n        ee: ee,\r\n        event: event,\r\n        fn: fn,\r\n      })\r\n    }\r\n  }\r\n\r\n  function callback() {\r\n    cleanup()\r\n    done.apply(null, arguments)\r\n  }\r\n\r\n  function cleanup() {\r\n    var x\r\n    for (var i = 0; i < cleanups.length; i++) {\r\n      x = cleanups[i]\r\n      x.ee.removeListener(x.event, x.fn)\r\n    }\r\n  }\r\n\r\n  function thunk(fn) {\r\n    done = fn\r\n  }\r\n\r\n  thunk.cancel = cleanup\r\n\r\n  return thunk\r\n}\r\n\r\n/**\r\n * Create the event listener.\r\n * @private\r\n */\r\n\r\nfunction listener(event, done) {\r\n  return function onevent(arg1) {\r\n    var args = new Array(arguments.length)\r\n    var ee = this\r\n    var err = event === 'error'\r\n      ? arg1\r\n      : null\r\n\r\n    // copy args to prevent arguments escaping scope\r\n    for (var i = 0; i < args.length; i++) {\r\n      args[i] = arguments[i]\r\n    }\r\n\r\n    done(err, ee, event, args)\r\n  }\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;;AAEAA,MAAM,CAACC,OAAP,GAAiBC,KAAjB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,KAAT,CAAeC,KAAf,EAAsBC,IAAtB,EAA4B;EAC1B,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcH,KAAd,CAAL,EACE,MAAM,IAAII,SAAJ,CAAc,gDAAd,CAAN;EAEF,IAAIC,QAAQ,GAAG,EAAf;;EAEA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,KAAK,CAACO,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;IACrC,IAAIE,GAAG,GAAGR,KAAK,CAACM,CAAD,CAAf;IAEA,IAAI,CAACJ,KAAK,CAACC,OAAN,CAAcK,GAAd,CAAD,IAAuBA,GAAG,CAACD,MAAJ,GAAa,CAAxC,EACE,MAAM,IAAIH,SAAJ,CAAc,2CAAd,CAAN;IAEF,IAAIK,EAAE,GAAGD,GAAG,CAAC,CAAD,CAAZ;;IAEA,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACD,MAAxB,EAAgCG,CAAC,EAAjC,EAAqC;MACnC,IAAIC,KAAK,GAAGH,GAAG,CAACE,CAAD,CAAf;MACA,IAAIE,EAAE,GAAGC,QAAQ,CAACF,KAAD,EAAQG,QAAR,CAAjB,CAFmC,CAInC;;MACAL,EAAE,CAACM,EAAH,CAAMJ,KAAN,EAAaC,EAAb,EALmC,CAMnC;;MACAP,QAAQ,CAACW,IAAT,CAAc;QACZP,EAAE,EAAEA,EADQ;QAEZE,KAAK,EAAEA,KAFK;QAGZC,EAAE,EAAEA;MAHQ,CAAd;IAKD;EACF;;EAED,SAASE,QAAT,GAAoB;IAClBG,OAAO;IACPhB,IAAI,CAACiB,KAAL,CAAW,IAAX,EAAiBC,SAAjB;EACD;;EAED,SAASF,OAAT,GAAmB;IACjB,IAAIG,CAAJ;;IACA,KAAK,IAAId,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAAQ,CAACE,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;MACxCc,CAAC,GAAGf,QAAQ,CAACC,CAAD,CAAZ;MACAc,CAAC,CAACX,EAAF,CAAKY,cAAL,CAAoBD,CAAC,CAACT,KAAtB,EAA6BS,CAAC,CAACR,EAA/B;IACD;EACF;;EAED,SAASU,KAAT,CAAeV,EAAf,EAAmB;IACjBX,IAAI,GAAGW,EAAP;EACD;;EAEDU,KAAK,CAACC,MAAN,GAAeN,OAAf;EAEA,OAAOK,KAAP;AACD;AAED;AACA;AACA;AACA;;;AAEA,SAAST,QAAT,CAAkBF,KAAlB,EAAyBV,IAAzB,EAA+B;EAC7B,OAAO,SAASuB,OAAT,CAAiBC,IAAjB,EAAuB;IAC5B,IAAIC,IAAI,GAAG,IAAIxB,KAAJ,CAAUiB,SAAS,CAACZ,MAApB,CAAX;IACA,IAAIE,EAAE,GAAG,IAAT;IACA,IAAIkB,GAAG,GAAGhB,KAAK,KAAK,OAAV,GACNc,IADM,GAEN,IAFJ,CAH4B,CAO5B;;IACA,KAAK,IAAInB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoB,IAAI,CAACnB,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;MACpCoB,IAAI,CAACpB,CAAD,CAAJ,GAAUa,SAAS,CAACb,CAAD,CAAnB;IACD;;IAEDL,IAAI,CAAC0B,GAAD,EAAMlB,EAAN,EAAUE,KAAV,EAAiBe,IAAjB,CAAJ;EACD,CAbD;AAcD"},"metadata":{},"sourceType":"script"}