{"ast":null,"code":"const Minipass = require('minipass');\n\nconst _data = Symbol('_data');\n\nconst _length = Symbol('_length');\n\nclass Collect extends Minipass {\n  constructor(options) {\n    super(options);\n    this[_data] = [];\n    this[_length] = 0;\n  }\n\n  write(chunk, encoding, cb) {\n    if (typeof encoding === 'function') cb = encoding, encoding = 'utf8';\n    if (!encoding) encoding = 'utf8';\n    const c = Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk, encoding);\n\n    this[_data].push(c);\n\n    this[_length] += c.length;\n    if (cb) cb();\n    return true;\n  }\n\n  end(chunk, encoding, cb) {\n    if (typeof chunk === 'function') cb = chunk, chunk = null;\n    if (typeof encoding === 'function') cb = encoding, encoding = 'utf8';\n    if (chunk) this.write(chunk, encoding);\n    const result = Buffer.concat(this[_data], this[_length]);\n    super.write(result);\n    return super.end(cb);\n  }\n\n}\n\nmodule.exports = Collect; // it would be possible to DRY this a bit by doing something like\n// this.collector = new Collect() and listening on its data event,\n// but it's not much code, and we may as well save the extra obj\n\nclass CollectPassThrough extends Minipass {\n  constructor(options) {\n    super(options);\n    this[_data] = [];\n    this[_length] = 0;\n  }\n\n  write(chunk, encoding, cb) {\n    if (typeof encoding === 'function') cb = encoding, encoding = 'utf8';\n    if (!encoding) encoding = 'utf8';\n    const c = Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk, encoding);\n\n    this[_data].push(c);\n\n    this[_length] += c.length;\n    return super.write(chunk, encoding, cb);\n  }\n\n  end(chunk, encoding, cb) {\n    if (typeof chunk === 'function') cb = chunk, chunk = null;\n    if (typeof encoding === 'function') cb = encoding, encoding = 'utf8';\n    if (chunk) this.write(chunk, encoding);\n    const result = Buffer.concat(this[_data], this[_length]);\n    this.emit('collect', result);\n    return super.end(cb);\n  }\n\n}\n\nmodule.exports.PassThrough = CollectPassThrough;","map":{"version":3,"names":["Minipass","require","_data","Symbol","_length","Collect","constructor","options","write","chunk","encoding","cb","c","Buffer","isBuffer","from","push","length","end","result","concat","module","exports","CollectPassThrough","emit","PassThrough"],"sources":["C:/Users/Kamen/ML/AlgoTrader/node_modules/minipass-collect/index.js"],"sourcesContent":["const Minipass = require('minipass')\nconst _data = Symbol('_data')\nconst _length = Symbol('_length')\nclass Collect extends Minipass {\n  constructor (options) {\n    super(options)\n    this[_data] = []\n    this[_length] = 0\n  }\n  write (chunk, encoding, cb) {\n    if (typeof encoding === 'function')\n      cb = encoding, encoding = 'utf8'\n\n    if (!encoding)\n      encoding = 'utf8'\n\n    const c = Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk, encoding)\n    this[_data].push(c)\n    this[_length] += c.length\n    if (cb)\n      cb()\n    return true\n  }\n  end (chunk, encoding, cb) {\n    if (typeof chunk === 'function')\n      cb = chunk, chunk = null\n    if (typeof encoding === 'function')\n      cb = encoding, encoding = 'utf8'\n    if (chunk)\n      this.write(chunk, encoding)\n    const result = Buffer.concat(this[_data], this[_length])\n    super.write(result)\n    return super.end(cb)\n  }\n}\nmodule.exports = Collect\n\n// it would be possible to DRY this a bit by doing something like\n// this.collector = new Collect() and listening on its data event,\n// but it's not much code, and we may as well save the extra obj\nclass CollectPassThrough extends Minipass {\n  constructor (options) {\n    super(options)\n    this[_data] = []\n    this[_length] = 0\n  }\n  write (chunk, encoding, cb) {\n    if (typeof encoding === 'function')\n      cb = encoding, encoding = 'utf8'\n\n    if (!encoding)\n      encoding = 'utf8'\n\n    const c = Buffer.isBuffer(chunk) ? chunk : Buffer.from(chunk, encoding)\n    this[_data].push(c)\n    this[_length] += c.length\n    return super.write(chunk, encoding, cb)\n  }\n  end (chunk, encoding, cb) {\n    if (typeof chunk === 'function')\n      cb = chunk, chunk = null\n    if (typeof encoding === 'function')\n      cb = encoding, encoding = 'utf8'\n    if (chunk)\n      this.write(chunk, encoding)\n    const result = Buffer.concat(this[_data], this[_length])\n    this.emit('collect', result)\n    return super.end(cb)\n  }\n}\nmodule.exports.PassThrough = CollectPassThrough\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}